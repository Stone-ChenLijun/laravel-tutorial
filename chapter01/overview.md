# 一些术语（本书约定，不代表业界标准）
- 前端
    - h5 页面，微信小程序，钉钉小程序，手机应用
- 后端
    - 负责业务逻辑处理，主要输出产物为 API 接口

一个经典的微信 H5 商城系统包括 2 个终端，一是在微信公众号中打开的在线商城，二是在 PC 中打开的管理端。从内容划分中，在线商城和管理端的页面布局和接口对接均算接口范围，而商城流程幕后的下单后各种处理均算后端范围。

简单的职责划分，前端就负责摆页面，对接口，后台负责出接口，确保业务逻辑正确。

# Web 大局观

Web 开发中，大致分为前端与后端两大块。在 Web 开发的早期，因为网站内容比较简单，所以并未有前后端之分，往往是一个人完成所有内容。但随着需求的增加，网站的内容变得越来越复杂，网站需要服务对象越来越多，原来只需要在浏览器上展示的内容还需要在手机应用中展示，需要在智能手表中展示。

需求和业务的堆砌，这个人抗不住了，他不仅要处理后台越来越复杂的逻辑，还要处理页面的复杂交互，而且这两边的技术栈还不一样，没有时间的积累，你无法同时精通两边的内容。这就导致你的开发效率大大降低，这就催生了分工。专注于页面展示，交互的被称为前端，而专注于业务和数据处理的被成为后端。

笼统地说，前端就是处理所有看得见的内容，而后台就是处理所有看不见的内容。现实中，很多情况下，前后端的界限并不是泾渭分明的。在很多情况下，后端人员必须兼职处理部分前端内容，因为有时候修改很小，比如改个文字内容，改个字体大小，或者简单的功能调整，大部分的处理都在后台，前端只需要一点点修改量，如果额外增加一个前端，会导致成本过高（主要是沟通成本），这种需求往往会直接交给后端人员处理。这种情况在大小公司都会出现，但是大公司出现的频率会比较低，因为大公司更强调分工，职责划分。而小公司往往强调经济实用，能者多劳是常见操作。而为什么这些活不派给前端呢，因为后端在学习过程中不可以避免的需要接触前端内容，所以大部分的后端都多少会一点前端，而前端学习却不一定要这样。

# 前端

可以认为前端就是用户可见的内容，浏览器里展示的网页，手机app上展示的各种页面，都归为前端的范围。早期的前端仅指浏览器的网页展示部分，但随着终端的增多，同样的内容需要在越来越多的设备上展示，而这些展示的内容都是由后端提供。同样的内容，但是不同的展示方式，非常类似html与css的关系。

狭义的前端专指网页，但随着终端变得更多，像手机 app，小程序，公众号之类的内容，因为核心都是展示内容，所以都被归为前端范围，这种广义的前端被称为大前端。而后端学习因为不可避免的会接触很多前端内容，在此过程中，有写后端同时学习了前后端的内容，对前后端的内容都有一定的研究深度，这种人一般被称为全栈工程师。

前端基础技术栈 html+css+javascript。

最早的网页内容是直接由浏览器渲染的，因为那时候页面内容还没那么多。直接执行内嵌在网页中的 php 脚本，将结果替换在页面中，这样就能一次请求拿到所有数据了。**这种由后台渲染直接输出网页内容的方式我称为不分离模式，在 Laravel 中，对应 Blade 视图。** 但这样操作的局限性也很明显，现代的大型页面中，你很少会看见仅为了加载一部分内容就完全刷新整个页面的操作。这会增加服务器和浏览器的负担。

后端直接渲染返回页面的方式灵活度有限，于是催生了 ajax 异步请求的方式。主要使用的是 Jquery，如项目无特殊要求，推荐使用 1.x.x 版本的 Jquery 即可。因为高版本的 Jquery 移除了对低版本 IE 的兼容性支持，而添加的功能一般项目用不上。虽然已经 2020 年了，但还是有很多项目仍使用 Jquery，有的是因为历史原因，有的是因为小项目，用 Jquery 反而更快。如果你工作中仍需用到 Jquery，我推荐《锋利的Jquery》。不分离的方式开发的站点，我主要使用的是 Layui。

随着项目需求地堆砌，页面变得越来越复杂，Jquery 也无法高效地解决问题。于是人们开始寻求新的解决方案。由于 js 提供了操作 DOM 的方法，通过 js 你可以对 DOM 执行增删改查的操作。于是有人想到，我是不是能通过 js 生成所有的网页内容。

这种思路孕育了好几个基于 JS 的框架，影响比较大的有 React, Augular 和 Vue。Vue 主要在国内比较流行，全球范围市场占用率还是不如另外两个的。国内有很多中小企业都大量使用了 Vue。Laravel 框架也支持使用 Vue 和 React 来构建页面。允许你用更现代化的方式构建网站页面。

这种由 JS 直接生成页面的应用通常被称为单页面应用（SPA）。其网站经过打包后输出的内容包括一个index.html文件，一堆压缩后的js文件和一些静态图片等。网站统一由 index.html 进入，通过 JS 生成所有网页内容。所有的路由跳转，数据存储，均由前端完成，后端无需参与，大大减轻了服务器的负担。

相对与上面的不分离的站点模式，SPA 的缺点是：

1. 技术门槛更高，对开发者的能力要求更高
1. 调试发布不够方便，每次发布内容都需要经过打包流程，在需要频繁发布的场景，会很繁琐。（但可以引入自动集成部署的方式解决这步问题）。

优点：

1. 编码效率更高
1. 降低服务器负担
1. 处理复杂业务的能力更强

目前来说，从效率的角度触发，简单项目我会选择不分离的模式，而比较复杂的项目则采用后者。

本书后续会介绍上面提到的两种页面渲染方式，以及用到的相关技术框架。

顺带讲一点手机应用的前端内容。目前市场上的手机操作系统份额基本被 Android 和 IOS 瓜分。要在手机上运行我的应用，最简单的方式就是通过浏览器，浏览器访问我的手机版网页。但是，因为网页应用无法完成调用蓝牙，读写手机 SD 卡，另外网页应用的运行效率有限。所以，很多应用都需要采用原生应用的开发方式。

Android 的原生开发语言是 Java，而 IOS 的则是 Swift，二者的应用并不兼容，一个公司开发的应用需要用两种语言各写一遍，带来了巨大的开发成本。于是，跨平台的解决方案就出现了，目前最流行的就是基于 React 的 React Native，最火的是 Flutter。跨平台解决方案可以一次编写两端应用通用的页面和常规逻辑部分，降低开发成本，还提供了原生接口，对接各平台之间差异巨大的硬件支持，例如，蓝牙，wifi等等。

但是，时间推进到 2020，人们发现，需要开发手机应用的需求，也基本开发完了，新增需求量有限。而且，人们每天使用的 app 也就那几个，越来越少的人会愿意安装你这个一年不见得运行几次的应用。于是微信，钉钉等就推出了自己的小程序。以微信举例，微信作为原生应用安装在你的手机上，已经取得了一些常见需求的授权，如相机，存储等。它为小程序提供一个沙箱，让小程序不必考虑系统差异，遵照微信提供的语法直接访问常见的资源。为轻量级应用开发提供了一个性能与成本之间的折中选项。

# 后端

后端负责业务逻辑和数据处理，确保前端能业务流程中数据的准确性。前端简单的点击一个按钮，对应的后台处理的数据和代码可能非常非常多。作为一个好后端，你需要不错的逻辑思维能力，不然你很可能被业务绕晕。

从纯后端的角度出发，我的输出产品就是 API，而 Laravel 中提供了对 API 编程的支持，同时为纯 API 项目提供了更轻量的 Lumen 框架。Lumen 是在 Laravel 的基础上去除了纯 API 编程方式不需要的页面模板引擎，session等机制，使 Lumen 框架的运行速度相较 Laravel 有数倍的提升。但 Lumen 相较 Laravel 的更新速度更慢，Lumen 仅会选择稳定版的 Laravel 进行开发。如果有兴趣可自己寻找 Lumen 的文档阅读，本书不做展开。

API（Application Programming Interface），中文译作应用程序编程接口。接口思维在编程领域十分常见。现在的 API 提供的数据内容服务的目标很多，除了传统的网页，还包括小程序，智能手机，智能手表，智能电视，甚至还有嵌入式设备，如打印机，扫码机，还有车载设备等等。

API 约定了不同 Web 服务与其它设备通讯的格式。你在打开新闻 APP，一般会看到一个启动页，向你展示一张启动图，这张图片就是通过 API 请求获得的。APP 在启动时，会向服务器发起一个 Http 请求，服务器接受请求，返回响应。响应返回的一般数据格式是 json，因为其轻量和通用，但也有些时候，会返回功能更丰富的 XML 格式（银行类的接口）。而 APP 解析获取的数据，将内容展示在页面上，一次简单的操作即完成了。

为了提供 API 数据，后台必须要掌握数据库设计能力（你的数据要有个地方存，存方式的还得方便取）。

为了更高效的读写数据库，你还得深入学习数据库，掌握各种复杂查询的写法。另外，在数据量膨胀后，你可能还得掌握非关系型数据库（传统的 MySql 这种是关系型）。

为了在同一时间服务更多的用户，后端需要处理高并发的需求。并发问题如果能通过升级配置解决，那么就升级配置，别整别的花里胡哨的坑自己。升配无法解决，再考虑独立资源服务器，业务处理服务器，数据库服务器等等，将各项资源拆分成单独的服务器，再给各个服务器升配。再无法处理，考虑调整为微服务架构，将业务拆分为各项服务，每个服务都维护自己的业务代码，数据库内容，为各个服务升级配置。因为各个服务的流量级别往往是不同的，为每个服务配置适当级别的服务器，并在服务流量激增时增加服务器，在流量减少时减少服务器。同时在线的多台服务器还要做负载均衡，避免某台服务器满载运行，另一台却在空载划水。当然，这些复杂的并发问题往往会交给专门的运维人员。

# 总结

前后端的内容深入以后都非常多，你能爬多高，决定于你能走多远，与君共勉。

!> 以上内容均出于目前本人的视野，欢迎大佬补充。